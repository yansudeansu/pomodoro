import{a as j,j as l,T as x}from"./index-DxCk-BNI.js";const g="_dot_qft89_1",q="_up_qft89_9",y="_down_qft89_13",z="_unknown_qft89_17",v={dot:g,up:q,down:y,unknown:z},S=o=>{const t=j.c(3),{status:s}=o,n=`${v.dot} ${v[s]}`,a=`status-dot-${s}`;let e;return t[0]!==n||t[1]!==a?(e=l.jsx("span",{className:n,"data-testid":a}),t[0]=n,t[1]=a,t[2]=e):e=t[2],e},R="_item_z0ivj_1",k="_up_z0ivj_13",H="_down_z0ivj_17",N={item:R,up:k,down:H},D=o=>{const t=j.c(3),{status:s}=o,n=`${N.item} ${N[s]}`,a=`status-${s}`;let e;return t[0]!==n||t[1]!==a?(e=l.jsx("div",{className:n,"data-testid":a}),t[0]=n,t[1]=a,t[2]=e):e=t[2],e},T="_bar_sl2l3_1",B="_label_sl2l3_7",$={bar:T,label:B},E=o=>{const t=j.c(10),{history:s}=o,n=s[s.length-1];let a;t[0]!==n.timestamp?(a=Math.round((Date.now()-new Date(n.timestamp).getTime())/6e4),t[0]=n.timestamp,t[1]=a):a=t[1];let e;t[2]!==a?(e=l.jsxs("span",{className:$.label,children:[a,"m ago"]}),t[2]=a,t[3]=e):e=t[3];let i;t[4]!==s?(i=s.map(L),t[4]=s,t[5]=i):i=t[5];let c;t[6]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx("span",{className:$.label,children:"Now"}),t[6]=c):c=t[6];let r;return t[7]!==e||t[8]!==i?(r=l.jsxs("div",{className:$.bar,children:[e,i,c]}),t[7]=e,t[8]=i,t[9]=r):r=t[9],r};function L(o,t){return l.jsx(D,{status:o.status},t)}const M="_wrapper_1qlzb_1",A="_header_1qlzb_12",C="_statusHeader_1qlzb_19",I="_statusRow_1qlzb_25",P="_uptime_1qlzb_31",F="_timestamp_1qlzb_36",h={wrapper:M,header:A,statusHeader:C,statusRow:I,uptime:P,timestamp:F},K=o=>{const t=j.c(23),{history:s}=o;if(!s||s.length===0)return null;const n=s[0];let a;t[0]!==s?(a=s.filter(G),t[0]=s,t[1]=a):a=t[1];const e=a.length;let i;t[2]!==s.length||t[3]!==e?(i=Math.round(e/s.length*100),t[2]=s.length,t[3]=e,t[4]=i):i=t[4];const c=i,r=e===s.length?"up":e===0?"down":"unknown";let w;t[5]===Symbol.for("react.memo_cache_sentinel")?(w=l.jsx(x,{variant:"heading",className:h.statusHeader,children:"Pomodoro App Status"}),t[5]=w):w=t[5];let m;t[6]!==r?(m=l.jsx(S,{status:r}),t[6]=r,t[7]=m):m=t[7];let u;t[8]!==c?(u=l.jsxs(x,{variant:"label",className:h.uptime,children:[c,"% uptime (last hour)"]}),t[8]=c,t[9]=u):u=t[9];let _;t[10]!==m||t[11]!==u?(_=l.jsxs("div",{className:h.header,children:[w,l.jsxs("div",{className:h.statusRow,children:[m,u]})]}),t[10]=m,t[11]=u,t[12]=_):_=t[12];let p;t[13]!==s?(p=l.jsx(E,{history:s}),t[13]=s,t[14]=p):p=t[14];let d;t[15]!==n.timestamp?(d=new Date(n.timestamp).toLocaleTimeString(),t[15]=n.timestamp,t[16]=d):d=t[16];let f;t[17]!==d?(f=l.jsxs(x,{variant:"body",className:h.timestamp,children:["Last checked: ",d]}),t[17]=d,t[18]=f):f=t[18];let b;return t[19]!==_||t[20]!==p||t[21]!==f?(b=l.jsxs("div",{className:h.wrapper,children:[_,p,f]}),t[19]=_,t[20]=p,t[21]=f,t[22]=b):b=t[22],b};function G(o){return o.status==="up"}export{K as default};
