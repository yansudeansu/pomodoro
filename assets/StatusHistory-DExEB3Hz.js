import{a as $,j as o,T as v,I as H}from"./index-DcYoQqe8.js";const k="_dot_qft89_1",R="_up_qft89_9",C="_down_qft89_13",D="_unknown_qft89_17",S={dot:k,up:R,down:C,unknown:D},T=i=>{const t=$.c(3),{status:e}=i,l=`${S.dot} ${S[e]}`,a=`status-dot-${e}`;let s;return t[0]!==l||t[1]!==a?(s=o.jsx("span",{className:l,"data-testid":a}),t[0]=l,t[1]=a,t[2]=s):s=t[2],s},q="_item_z0ivj_1",z="_up_z0ivj_13",B="_down_z0ivj_17",y={item:q,up:z,down:B},I=i=>{const t=$.c(4),{status:e,title:l}=i,a=`${y.item} ${y[e]}`,s=`status-${e}`;let n;return t[0]!==a||t[1]!==s||t[2]!==l?(n=o.jsx("div",{className:a,"data-testid":s,title:l}),t[0]=a,t[1]=s,t[2]=l,t[3]=n):n=t[3],n},L="_bar_1jjo2_1",E="_label_1jjo2_7",N={bar:L,label:E},M=i=>{const t=$.c(10),{history:e}=i,l=e[e.length-1];let a;t[0]!==l.timestamp?(a=Math.round((Date.now()-new Date(l.timestamp).getTime())/6e4),t[0]=l.timestamp,t[1]=a):a=t[1];let s;t[2]!==a?(s=o.jsxs("span",{className:N.label,children:[a,"m ago"]}),t[2]=a,t[3]=s):s=t[3];let n;t[4]!==e?(n=[...e].reverse().map(A),t[4]=e,t[5]=n):n=t[5];let m;t[6]===Symbol.for("react.memo_cache_sentinel")?(m=o.jsx("span",{className:N.label,children:"Now"}),t[6]=m):m=t[6];let c;return t[7]!==s||t[8]!==n?(c=o.jsxs("div",{className:N.bar,children:[s,n,m]}),t[7]=s,t[8]=n,t[9]=c):c=t[9],c};function A(i,t){return o.jsx(I,{status:i.status,title:new Date(i.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})},t)}const P="_header_1m3um_12",F="_statusHeader_1m3um_19",G="_statusRow_1m3um_25",J="_uptime_1m3um_31",K="_timestamp_1m3um_36",O="_modalHeader_1m3um_42",r={header:P,statusHeader:F,statusRow:G,uptime:J,timestamp:K,modalHeader:O},V=i=>{const t=$.c(28),{history:e,onClose:l}=i;if(!e||e.length===0)return null;const a=e[0];let s;t[0]!==e?(s=e.filter(Q),t[0]=e,t[1]=s):s=t[1];const n=s.length;let m;t[2]!==e.length||t[3]!==n?(m=Math.round(n/e.length*100),t[2]=e.length,t[3]=n,t[4]=m):m=t[4];const c=m,b=n===e.length?"up":n===0?"down":"unknown";let w;t[5]===Symbol.for("react.memo_cache_sentinel")?(w=o.jsx(v,{variant:"heading",className:r.statusHeader,children:"Pomodoro App Status"}),t[5]=w):w=t[5];let u;t[6]!==l?(u=o.jsxs("div",{className:r.modalHeader,children:[w,o.jsx(H,{icon:"close",onClick:l,label:"Close status modal",size:"big"})]}),t[6]=l,t[7]=u):u=t[7];let d;t[8]!==b?(d=o.jsx(T,{status:b}),t[8]=b,t[9]=d):d=t[9];let _;t[10]!==c?(_=o.jsxs(v,{variant:"label",className:r.uptime,children:[c,"% uptime (last hour)"]}),t[10]=c,t[11]=_):_=t[11];let p;t[12]!==d||t[13]!==_?(p=o.jsxs("div",{className:r.statusRow,children:[d,_]}),t[12]=d,t[13]=_,t[14]=p):p=t[14];let f;t[15]!==u||t[16]!==p?(f=o.jsxs("div",{className:r.header,children:[u,p]}),t[15]=u,t[16]=p,t[17]=f):f=t[17];let h;t[18]!==e?(h=o.jsx(M,{history:e}),t[18]=e,t[19]=h):h=t[19];let j;t[20]!==a.timestamp?(j=new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),t[20]=a.timestamp,t[21]=j):j=t[21];let x;t[22]!==j?(x=o.jsxs(v,{variant:"body",className:r.timestamp,children:["Last checked:"," ",j]}),t[22]=j,t[23]=x):x=t[23];let g;return t[24]!==x||t[25]!==f||t[26]!==h?(g=o.jsxs("div",{className:r.modalContent,children:[f,h,x]}),t[24]=x,t[25]=f,t[26]=h,t[27]=g):g=t[27],g};function Q(i){return i.status==="up"}export{V as default};
