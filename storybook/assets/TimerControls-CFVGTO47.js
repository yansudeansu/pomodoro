import{j as u}from"./jsx-runtime-D_zvdyIk.js";import{c as A}from"./compiler-runtime-CJbQ6yvW.js";import{B as T}from"./Button-DDqaEZzK.js";import{I as g}from"./IconButton-Bknr4HzP.js";import{u as C}from"./PomodoroContext-BZZk-DrD.js";const w="_container_1o6k5_1",N={container:w},P="/pomodoro/storybook/assets/alarm-g9ZTW-QF.mp3",S="/pomodoro/storybook/assets/start-C35JL6Om.mp3",f=new Audio(P),y=new Audio(S),z=()=>{x(),f.currentTime=0,f.play().catch(o=>console.error("Alarm play error",o))},_=()=>{x(),y.currentTime=0,y.play().catch(o=>console.error("Start sound play error",o))},x=()=>{[f,y].forEach(o=>{o.pause(),o.currentTime=0})};let k=!1;const j=async()=>{if(k||!("Notification"in window))return;k=!0,await Notification.requestPermission()!=="granted"&&console.warn("Notification permission denied")},I=()=>{const o=A.c(14),{isRunning:t,setIsRunning:i,tasks:a,setActiveTaskId:c,skipCycle:l}=C();let r;o[0]!==t||o[1]!==c||o[2]!==i||o[3]!==a?(r=()=>{if(!t){j(),_();const h=a.find(b);h&&c(h.id)}i(!t)},o[0]=t,o[1]=c,o[2]=i,o[3]=a,o[4]=r):r=o[4];const m=r,p=t?"active":"default",d=t?"Pause":"Start";let s;o[5]!==m||o[6]!==p||o[7]!==d?(s=u.jsx(T,{onClick:m,size:"large",variant:p,children:d}),o[5]=m,o[6]=p,o[7]=d,o[8]=s):s=o[8];let e;o[9]!==l?(e=u.jsx(g,{icon:"skip",onClick:l,size:"big",label:"Skip ahead"}),o[9]=l,o[10]=e):e=o[10];let n;return o[11]!==s||o[12]!==e?(n=u.jsxs("div",{className:N.container,children:[s,e]}),o[11]=s,o[12]=e,o[13]=n):n=o[13],n};I.__docgenInfo={description:"",methods:[],displayName:"TimerControls"};function b(o){return o.completedPomodoros<o.pomodoros}export{I as T,z as p};
