const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WeeklyChart-BCDzP82V.js","assets/jsx-runtime-D_zvdyIk.js","assets/compiler-runtime-CJbQ6yvW.js","assets/index-c0qeY2gs.js","assets/index-BE4Fbmwm.js","assets/tiny-invariant-CopsF_GD.js","assets/WeeklyChart-Cdf2_6vV.css","assets/StatusHistory-Yw5C8pDn.js","assets/StatusDot-d4rJNefB.js","assets/StatusDot-BPAhn3jP.css","assets/StatusBar-DrikSl_-.js","assets/StatusBarItem-Cs_irZJT.js","assets/StatusBarItem-H9vImy5z.css","assets/StatusBar-DozikCFA.css","assets/Text-C1JEmKLm.js","assets/Text-Bw2nCDdP.css","assets/StatusHistory-BcmJnizw.css"])))=>i.map(i=>d[i]);
import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{c as U}from"./compiler-runtime-CJbQ6yvW.js";import{r as a,R as V}from"./index-BE4Fbmwm.js";import{_ as $}from"./iframe-Cx5aNEw8.js";import{H as K}from"./Header-B6Fo4D1P.js";import{T as q}from"./Toast-DnEgP0p1.js";import{g as B,P as G}from"./PomodorosToday-CMuSTo8o.js";import{P as J}from"./PomodoroTimer-Cgon2XcK.js";import{T as Q}from"./TaskManager-Cxwfno1p.js";import{u as M,v as X,P as Y}from"./PomodoroContext-BZZk-DrD.js";import"./index-c0qeY2gs.js";import"./IconButton-Bknr4HzP.js";import"./Icons-DkmbEqGT.js";import"./Link-BbDpf4TS.js";import"./Button-DDqaEZzK.js";import"./Text-C1JEmKLm.js";import"./ModeSwitcher-nd9cisJJ.js";import"./TimerControls-CFVGTO47.js";import"./TimerDisplay-vjCVDni9.js";import"./ProgressRing-DOSM5Dml.js";import"./InfoTooltip-BKuPgeHb.js";import"./TaskInput-D2_WXmsK.js";import"./Input-D5j9VKnD.js";import"./TaskList-BWNmCjVs.js";import"./Checkbox-ANUpOvAS.js";import"./Modal-Bo1S5ewd.js";const Z="_page_1llzj_1",ee="_pomodoro_1llzj_12",te="_short_break_1llzj_16",oe="_long_break_1llzj_20",se="_chartWrapper_1llzj_32",v={page:Z,pomodoro:ee,short_break:te,long_break:oe,chartWrapper:se},z="https://yansudeansu.github.io/status-pages/status/status-pomodoro.json",re=V.lazy(()=>$(()=>import("./WeeklyChart-BCDzP82V.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),ae=V.lazy(()=>$(()=>import("./StatusHistory-Yw5C8pDn.js"),__vite__mapDeps([7,1,2,3,8,9,10,11,12,13,14,15,16]))),N=()=>{const e=U.c(26),{setTasks:o,mode:n,globalPomodoros:l}=M(),[u,L]=a.useState(""),[x,c]=a.useState(null),s=a.useRef(null),C=a.useRef(-1),[E,F]=a.useState(!1),[m,O]=a.useState(!1),[j,_]=a.useState(null);let T,P;e[0]!==m?(T=()=>{m?fetch(z).then(ne).then(_).catch(()=>_([])):_(null)},P=[m],e[0]=m,e[1]=T,e[2]=P):(T=e[1],P=e[2]),a.useEffect(T,P);let k;e[3]!==u||e[4]!==o?(k=()=>{const r=u.trim();if(!r)return;const d={id:X(),title:r,completed:!1,pomodoros:1,completedPomodoros:0};o(g=>{const i=[...g,d];return i.length>16&&(s.current&&clearTimeout(s.current),c({message:"That’s a lot! A full focus day usually includes 10–16 Pomodoros. Are you sure you want this many?",onClose:()=>{s.current&&clearTimeout(s.current),c(null)}}),s.current=setTimeout(()=>{c(null),s.current=null},5e3)),i}),L("")},e[3]=u,e[4]=o,e[5]=k):k=e[5];const p=k;let y;e[6]!==o?(y=r=>{o(d=>{const g=d.findIndex(i=>i.id===r.id);return C.current=g,d.filter(i=>i.id!==r.id)}),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{c(null),s.current=null},5e3),c({message:`Task "${r.title}" deleted`,actionLabel:"Undo",onAction:()=>{s.current&&clearTimeout(s.current),o(d=>{const g=d.slice(0,C.current),i=d.slice(C.current);return[...g,r,...i]}),c(null)},onClose:()=>{s.current&&clearTimeout(s.current),c(null)}})},e[6]=o,e[7]=y):y=e[7];const D=y;let S;e[8]!==p?(S=r=>{r.key==="Enter"&&p()},e[8]=p,e[9]=S):S=e[9];const I=S;let f;e[10]!==x?(f=x&&t.jsx(q,{...x}),e[10]=x,e[11]=f):f=e[11];let b;e[12]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(K,{onChartClick:()=>F(le),onStatusClick:()=>{O(r=>(!r&&z&&fetch(z).then(ie).then(_).catch(()=>_([])),!r))}}),e[12]=b):b=e[12];let h;e[13]!==l||e[14]!==p||e[15]!==D||e[16]!==I||e[17]!==u||e[18]!==n||e[19]!==E||e[20]!==m||e[21]!==j?(h=m?t.jsx("div",{className:v.chartWrapper,children:t.jsx(a.Suspense,{fallback:t.jsx("div",{children:"Loading status..."}),children:j&&t.jsx(ae,{history:j})})}):t.jsxs(t.Fragment,{children:[E&&t.jsx("div",{className:v.chartWrapper,children:t.jsx(a.Suspense,{fallback:t.jsx("div",{style:{height:200},children:"Loading chart..."}),children:t.jsx(re,{data:B(l).map(ce)})})}),t.jsxs("main",{className:`${v.page} ${v[n]}`,children:[t.jsx(J,{}),t.jsx(G,{}),t.jsx(Q,{inputValue:u,onInputChange:r=>L(r.target.value),onAddTask:p,onDeleteTask:D,onKeyDown:I})]})]}),e[13]=l,e[14]=p,e[15]=D,e[16]=I,e[17]=u,e[18]=n,e[19]=E,e[20]=m,e[21]=j,e[22]=h):h=e[22];let R;return e[23]!==f||e[24]!==h?(R=t.jsxs(t.Fragment,{children:[f,b,h]}),e[23]=f,e[24]=h,e[25]=R):R=e[25],R};N.__docgenInfo={description:"",methods:[],displayName:"PomodoroPage"};function ne(e){return e.json()}function le(e){return!e}function ie(e){return e.json()}function ce(e){return{name:e.date.toLocaleDateString(void 0,{weekday:"short"}),Pomodoros:e.count}}const me=e=>{const o=U.c(2),{children:n}=e;let l;return o[0]!==n?(l=t.jsx(Y,{children:t.jsx(de,{children:n})}),o[0]=n,o[1]=l):l=o[1],l},de=({children:e})=>{const{setTasks:o,setMode:n}=M();return a.useEffect(()=>{o([{id:"1",title:"Design UI for Timer",completed:!1,pomodoros:2,completedPomodoros:1},{id:"2",title:"Review task manager UI",completed:!1,pomodoros:1,completedPomodoros:0}]),n("pomodoro")},[]),t.jsx(t.Fragment,{children:e})},Ue={title:"Pages/PomodoroPage",component:N,decorators:[e=>t.jsx(me,{children:t.jsx(e,{})})],parameters:{docs:{description:{component:"`PomodoroPage` is the main page that brings together the Pomodoro timer and task management. It displays the timer and allows users to manage tasks and Pomodoros."}}}},w={args:{}};var A,W,H;w.parameters={...w.parameters,docs:{...(A=w.parameters)==null?void 0:A.docs,source:{originalSource:`{
  args: {}
}`,...(H=(W=w.parameters)==null?void 0:W.docs)==null?void 0:H.source}}};const Ve=["Default"];export{w as Default,Ve as __namedExportsOrder,Ue as default};
