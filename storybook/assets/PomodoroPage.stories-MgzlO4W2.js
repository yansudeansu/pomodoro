import{j as o}from"./jsx-runtime-D_zvdyIk.js";import{c as N}from"./compiler-runtime-CJbQ6yvW.js";import{r as g}from"./index-BE4Fbmwm.js";import{H}from"./Header-DEYjJrSV.js";import{T as K}from"./Toast-BYNrZpln.js";import{g as L,P as O}from"./PomodorosToday-CyFwSFXf.js";import{P as q}from"./PomodoroTimer-BiiB7_s7.js";import{T as B}from"./TaskManager-BDNEEYkz.js";import{W as G}from"./WeeklyChart-Bsehu9vi.js";import{u as U,P as J}from"./PomodoroContext-DcQYR8jO.js";import{v as Q}from"./v4-C6aID195.js";import"./index-c0qeY2gs.js";import"./IconButton-DLG4f09V.js";import"./Icons-LTYywjph.js";import"./Link-4q3sl_YV.js";import"./Button-DDqaEZzK.js";import"./Text-C1JEmKLm.js";import"./ModeSwitcher-DE7fG3jj.js";import"./TimerControls-BxdhOrAQ.js";import"./TimerDisplay-vjCVDni9.js";import"./ProgressRing-DOSM5Dml.js";import"./InfoTooltip-eUu06fOe.js";import"./TaskInput-BxSsmRt8.js";import"./Input-DsjfCfzp.js";import"./TaskList-D4uDXTR5.js";import"./Checkbox-CwjQxxzy.js";import"./tiny-invariant-CopsF_GD.js";const X="_page_1llzj_1",Y="_pomodoro_1llzj_12",Z="_short_break_1llzj_16",ee="_long_break_1llzj_20",oe="_chartWrapper_1llzj_32",E={page:X,pomodoro:Y,short_break:Z,long_break:ee,chartWrapper:oe},V=()=>{const e=N.c(28),{setTasks:t,mode:l,globalPomodoros:a}=U(),[c,z]=g.useState(""),[T,m]=g.useState(null),r=g.useRef(null),D=g.useRef(-1),[I,F]=g.useState(!1);let x;e[0]!==c||e[1]!==t?(x=()=>{const s=c.trim();if(!s)return;const i={id:Q(),title:s,completed:!1,pomodoros:1,completedPomodoros:0};t(_=>{const n=[..._,i];return n.length>16&&(r.current&&clearTimeout(r.current),m({message:"That’s a lot! A full focus day usually includes 10–16 Pomodoros. Are you sure you want this many?",onClose:()=>{r.current&&clearTimeout(r.current),m(null)}}),r.current=setTimeout(()=>{m(null),r.current=null},5e3)),n}),z("")},e[0]=c,e[1]=t,e[2]=x):x=e[2];const d=x;let P;e[3]!==t?(P=s=>{t(i=>{const _=i.findIndex(n=>n.id===s.id);return D.current=_,i.filter(n=>n.id!==s.id)}),r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{m(null),r.current=null},5e3),m({message:`Task "${s.title}" deleted`,actionLabel:"Undo",onAction:()=>{r.current&&clearTimeout(r.current),t(i=>{const _=i.slice(0,D.current),n=i.slice(D.current);return[..._,s,...n]}),m(null)},onClose:()=>{r.current&&clearTimeout(r.current),m(null)}})},e[3]=t,e[4]=P):P=e[4];const W=P;let k;e[5]!==d?(k=s=>{s.key==="Enter"&&d()},e[5]=d,e[6]=k):k=e[6];const R=k;let u;e[7]!==T?(u=T&&o.jsx(K,{...T}),e[7]=T,e[8]=u):u=e[8];let j;e[9]===Symbol.for("react.memo_cache_sentinel")?(j=o.jsx(H,{onChartClick:()=>F(te)}),e[9]=j):j=e[9];let p;e[10]!==a||e[11]!==I?(p=I&&o.jsx("div",{className:E.chartWrapper,children:o.jsx(G,{data:L(a).map(re)})}),e[10]=a,e[11]=I,e[12]=p):p=e[12];const v=`${E.page} ${E[l]}`;let y,b;e[13]===Symbol.for("react.memo_cache_sentinel")?(y=o.jsx(q,{}),b=o.jsx(O,{}),e[13]=y,e[14]=b):(y=e[13],b=e[14]);let C;e[15]===Symbol.for("react.memo_cache_sentinel")?(C=s=>z(s.target.value),e[15]=C):C=e[15];let f;e[16]!==d||e[17]!==W||e[18]!==R||e[19]!==c?(f=o.jsx(B,{inputValue:c,onInputChange:C,onAddTask:d,onDeleteTask:W,onKeyDown:R}),e[16]=d,e[17]=W,e[18]=R,e[19]=c,e[20]=f):f=e[20];let h;e[21]!==f||e[22]!==v?(h=o.jsxs("main",{className:v,children:[y,b,f]}),e[21]=f,e[22]=v,e[23]=h):h=e[23];let S;return e[24]!==h||e[25]!==u||e[26]!==p?(S=o.jsxs(o.Fragment,{children:[u,j,p,h]}),e[24]=h,e[25]=u,e[26]=p,e[27]=S):S=e[27],S};V.__docgenInfo={description:"",methods:[],displayName:"PomodoroPage"};function te(e){return!e}function re(e){return{name:e.date.toLocaleDateString(void 0,{weekday:"short"}),Pomodoros:e.count}}const se=e=>{const t=N.c(2),{children:l}=e;let a;return t[0]!==l?(a=o.jsx(J,{children:o.jsx(ae,{children:l})}),t[0]=l,t[1]=a):a=t[1],a},ae=({children:e})=>{const{setTasks:t,setMode:l}=U();return g.useEffect(()=>{t([{id:"1",title:"Design UI for Timer",completed:!1,pomodoros:2,completedPomodoros:1},{id:"2",title:"Review task manager UI",completed:!1,pomodoros:1,completedPomodoros:0}]),l("pomodoro")},[]),o.jsx(o.Fragment,{children:e})},Ee={title:"Pages/PomodoroPage",component:V,decorators:[e=>o.jsx(se,{children:o.jsx(e,{})})],parameters:{docs:{description:{component:"`PomodoroPage` is the main page that brings together the Pomodoro timer and task management. It displays the timer and allows users to manage tasks and Pomodoros."}}}},w={args:{}};var A,$,M;w.parameters={...w.parameters,docs:{...(A=w.parameters)==null?void 0:A.docs,source:{originalSource:`{
  args: {}
}`,...(M=($=w.parameters)==null?void 0:$.docs)==null?void 0:M.source}}};const ze=["Default"];export{w as Default,ze as __namedExportsOrder,Ee as default};
