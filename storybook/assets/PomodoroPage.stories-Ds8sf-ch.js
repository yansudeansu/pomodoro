const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WeeklyChart-BCDzP82V.js","assets/jsx-runtime-D_zvdyIk.js","assets/compiler-runtime-CJbQ6yvW.js","assets/index-c0qeY2gs.js","assets/index-BE4Fbmwm.js","assets/tiny-invariant-CopsF_GD.js","assets/WeeklyChart-Cdf2_6vV.css"])))=>i.map(i=>d[i]);
import{j as o}from"./jsx-runtime-D_zvdyIk.js";import{c as M}from"./compiler-runtime-CJbQ6yvW.js";import{r as c,R as F}from"./index-BE4Fbmwm.js";import{_ as H}from"./iframe-HfOqTMnV.js";import{H as K}from"./Header-KbT-oBiN.js";import{T as O}from"./Toast-Dm0HcgU5.js";import{g as q,P as B}from"./PomodorosToday-CMuSTo8o.js";import{P as G}from"./PomodoroTimer-BRIBVE5q.js";import{T as J}from"./TaskManager-DMdAzFY_.js";import{u as V,v as Q,P as X}from"./PomodoroContext-BZZk-DrD.js";import"./index-c0qeY2gs.js";import"./IconButton-Du-sIps7.js";import"./Icons-B7uN4MAq.js";import"./Link-By_wJDKT.js";import"./Button-DDqaEZzK.js";import"./Text-C1JEmKLm.js";import"./ModeSwitcher-nd9cisJJ.js";import"./TimerControls-Cv0BSvgp.js";import"./TimerDisplay-vjCVDni9.js";import"./ProgressRing-DOSM5Dml.js";import"./InfoTooltip-DEeQ96RO.js";import"./TaskInput-D2_WXmsK.js";import"./Input-D5j9VKnD.js";import"./TaskList-DyddQQcW.js";import"./Checkbox-CwjQxxzy.js";import"./Modal-Bo1S5ewd.js";const Y="_page_1llzj_1",Z="_pomodoro_1llzj_12",ee="_short_break_1llzj_16",oe="_long_break_1llzj_20",te="_chartWrapper_1llzj_32",z={page:Y,pomodoro:Z,short_break:ee,long_break:oe,chartWrapper:te},re=F.lazy(()=>H(()=>import("./WeeklyChart-BCDzP82V.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),N=()=>{const e=M.c(28),{setTasks:t,mode:l,globalPomodoros:a}=V(),[d,W]=c.useState(""),[T,i]=c.useState(null),r=c.useRef(null),v=c.useRef(-1),[w,U]=c.useState(!1);let x;e[0]!==d||e[1]!==t?(x=()=>{const s=d.trim();if(!s)return;const m={id:Q(),title:s,completed:!1,pomodoros:1,completedPomodoros:0};t(g=>{const n=[...g,m];return n.length>16&&(r.current&&clearTimeout(r.current),i({message:"That’s a lot! A full focus day usually includes 10–16 Pomodoros. Are you sure you want this many?",onClose:()=>{r.current&&clearTimeout(r.current),i(null)}}),r.current=setTimeout(()=>{i(null),r.current=null},5e3)),n}),W("")},e[0]=d,e[1]=t,e[2]=x):x=e[2];const u=x;let P;e[3]!==t?(P=s=>{t(m=>{const g=m.findIndex(n=>n.id===s.id);return v.current=g,m.filter(n=>n.id!==s.id)}),r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{i(null),r.current=null},5e3),i({message:`Task "${s.title}" deleted`,actionLabel:"Undo",onAction:()=>{r.current&&clearTimeout(r.current),t(m=>{const g=m.slice(0,v.current),n=m.slice(v.current);return[...g,s,...n]}),i(null)},onClose:()=>{r.current&&clearTimeout(r.current),i(null)}})},e[3]=t,e[4]=P):P=e[4];const D=P;let k;e[5]!==u?(k=s=>{s.key==="Enter"&&u()},e[5]=u,e[6]=k):k=e[6];const I=k;let p;e[7]!==T?(p=T&&o.jsx(O,{...T}),e[7]=T,e[8]=p):p=e[8];let j;e[9]===Symbol.for("react.memo_cache_sentinel")?(j=o.jsx(K,{onChartClick:()=>U(se)}),e[9]=j):j=e[9];let f;e[10]!==a||e[11]!==w?(f=w&&o.jsx("div",{className:z.chartWrapper,children:o.jsx(c.Suspense,{fallback:o.jsx("div",{style:{height:200},children:"Loading chart..."}),children:o.jsx(re,{data:q(a).map(ae)})})}),e[10]=a,e[11]=w,e[12]=f):f=e[12];const E=`${z.page} ${z[l]}`;let y,b;e[13]===Symbol.for("react.memo_cache_sentinel")?(y=o.jsx(G,{}),b=o.jsx(B,{}),e[13]=y,e[14]=b):(y=e[13],b=e[14]);let S;e[15]===Symbol.for("react.memo_cache_sentinel")?(S=s=>W(s.target.value),e[15]=S):S=e[15];let h;e[16]!==u||e[17]!==D||e[18]!==I||e[19]!==d?(h=o.jsx(J,{inputValue:d,onInputChange:S,onAddTask:u,onDeleteTask:D,onKeyDown:I}),e[16]=u,e[17]=D,e[18]=I,e[19]=d,e[20]=h):h=e[20];let _;e[21]!==h||e[22]!==E?(_=o.jsxs("main",{className:E,children:[y,b,h]}),e[21]=h,e[22]=E,e[23]=_):_=e[23];let C;return e[24]!==_||e[25]!==p||e[26]!==f?(C=o.jsxs(o.Fragment,{children:[p,j,f,_]}),e[24]=_,e[25]=p,e[26]=f,e[27]=C):C=e[27],C};N.__docgenInfo={description:"",methods:[],displayName:"PomodoroPage"};function se(e){return!e}function ae(e){return{name:e.date.toLocaleDateString(void 0,{weekday:"short"}),Pomodoros:e.count}}const ne=e=>{const t=M.c(2),{children:l}=e;let a;return t[0]!==l?(a=o.jsx(X,{children:o.jsx(le,{children:l})}),t[0]=l,t[1]=a):a=t[1],a},le=({children:e})=>{const{setTasks:t,setMode:l}=V();return c.useEffect(()=>{t([{id:"1",title:"Design UI for Timer",completed:!1,pomodoros:2,completedPomodoros:1},{id:"2",title:"Review task manager UI",completed:!1,pomodoros:1,completedPomodoros:0}]),l("pomodoro")},[]),o.jsx(o.Fragment,{children:e})},We={title:"Pages/PomodoroPage",component:N,decorators:[e=>o.jsx(ne,{children:o.jsx(e,{})})],parameters:{docs:{description:{component:"`PomodoroPage` is the main page that brings together the Pomodoro timer and task management. It displays the timer and allows users to manage tasks and Pomodoros."}}}},R={args:{}};var A,L,$;R.parameters={...R.parameters,docs:{...(A=R.parameters)==null?void 0:A.docs,source:{originalSource:`{
  args: {}
}`,...($=(L=R.parameters)==null?void 0:L.docs)==null?void 0:$.source}}};const Ae=["Default"];export{R as Default,Ae as __namedExportsOrder,We as default};
