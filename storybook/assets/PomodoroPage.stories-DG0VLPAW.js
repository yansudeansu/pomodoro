const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WeeklyChart-BCDzP82V.js","assets/jsx-runtime-D_zvdyIk.js","assets/compiler-runtime-CJbQ6yvW.js","assets/index-c0qeY2gs.js","assets/index-BE4Fbmwm.js","assets/tiny-invariant-CopsF_GD.js","assets/WeeklyChart-Cdf2_6vV.css","assets/StatusHistory-DDHUUWph.js","assets/StatusDot-d4rJNefB.js","assets/StatusDot-BPAhn3jP.css","assets/StatusBar-B0QcbmpW.js","assets/StatusBarItem-a5k1OS0G.js","assets/StatusBarItem-H9vImy5z.css","assets/StatusBar-Bn2lwHCO.css","assets/Text-C1JEmKLm.js","assets/Text-Bw2nCDdP.css","assets/IconButton-C0fDNSGz.js","assets/Icons-DkmbEqGT.js","assets/IconButton-CMSq10Xp.css","assets/StatusHistory-B7NG-i1O.css"])))=>i.map(i=>d[i]);
import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{c as G}from"./compiler-runtime-CJbQ6yvW.js";import{r as a,R as J}from"./index-BE4Fbmwm.js";import{_ as Q}from"./iframe-StWlOeRZ.js";import{H as ee}from"./Header-D1dECTmE.js";import{T as te}from"./Toast-Uxuzpgoc.js";import{g as oe,P as se}from"./PomodorosToday-CMuSTo8o.js";import{M as re}from"./Modal-m-eMx2ej.js";import{P as ae}from"./PomodoroTimer-DrqyeTTq.js";import{T as ne}from"./TaskManager-WEMBShju.js";import{u as X,v as le,P as ie}from"./PomodoroContext-BZZk-DrD.js";import"./index-c0qeY2gs.js";import"./IconButton-C0fDNSGz.js";import"./Icons-DkmbEqGT.js";import"./Link-C7MJCkVG.js";import"./Button-DDqaEZzK.js";import"./Text-C1JEmKLm.js";import"./ModeSwitcher-nd9cisJJ.js";import"./TimerControls-CDotEMRT.js";import"./TimerDisplay-vjCVDni9.js";import"./ProgressRing-DOSM5Dml.js";import"./InfoTooltip-BKuPgeHb.js";import"./TaskInput-D2_WXmsK.js";import"./Input-D5j9VKnD.js";import"./TaskList-DIwziZPe.js";import"./Checkbox-ANUpOvAS.js";const ce="_page_1llzj_1",me="_pomodoro_1llzj_12",de="_short_break_1llzj_16",ue="_long_break_1llzj_20",pe="_chartWrapper_1llzj_32",V={page:ce,pomodoro:me,short_break:de,long_break:ue,chartWrapper:pe},$="https://yansudeansu.github.io/status-pages/status/status-pomodoro.json",fe=J.lazy(()=>Q(()=>import("./WeeklyChart-BCDzP82V.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),he=J.lazy(()=>Q(()=>import("./StatusHistory-DDHUUWph.js"),__vite__mapDeps([7,1,2,3,8,9,10,11,12,13,14,15,16,17,4,18,19]))),Y=()=>{const e=G.c(36),{setTasks:o,mode:i,globalPomodoros:n}=X(),[u,O]=a.useState(""),[y,c]=a.useState(null),s=a.useRef(null),L=a.useRef(-1),[A,Z]=a.useState(!1),[m,N]=a.useState(!1),[M,T]=a.useState(null);let P,k;e[0]!==m?(P=()=>{m?fetch($).then(_e).then(T).catch(()=>T([])):T(null)},k=[m],e[0]=m,e[1]=P,e[2]=k):(P=e[1],k=e[2]),a.useEffect(P,k);let S;e[3]!==u||e[4]!==o?(S=()=>{const r=u.trim();if(!r)return;const d={id:le(),title:r,completed:!1,pomodoros:1,completedPomodoros:0};o(j=>{const l=[...j,d];return l.length>16&&(s.current&&clearTimeout(s.current),c({message:"That’s a lot! A full focus day usually includes 10–16 Pomodoros. Are you sure you want this many?",onClose:()=>{s.current&&clearTimeout(s.current),c(null)}}),s.current=setTimeout(()=>{c(null),s.current=null},5e3)),l}),O("")},e[3]=u,e[4]=o,e[5]=S):S=e[5];const p=S;let b;e[6]!==o?(b=r=>{o(d=>{const j=d.findIndex(l=>l.id===r.id);return L.current=j,d.filter(l=>l.id!==r.id)}),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{c(null),s.current=null},5e3),c({message:`Task "${r.title}" deleted`,actionLabel:"Undo",onAction:()=>{s.current&&clearTimeout(s.current),o(d=>{const j=d.slice(0,L.current),l=d.slice(L.current);return[...j,r,...l]}),c(null)},onClose:()=>{s.current&&clearTimeout(s.current),c(null)}})},e[6]=o,e[7]=b):b=e[7];const W=b;let C;e[8]!==p?(C=r=>{r.key==="Enter"&&p()},e[8]=p,e[9]=C):C=e[9];const H=C;let R;e[10]===Symbol.for("react.memo_cache_sentinel")?(R=()=>N(!1),e[10]=R):R=e[10];const F=R;let f;e[11]!==y?(f=y&&t.jsx(te,{...y}),e[11]=y,e[12]=f):f=e[12];let w;e[13]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx(ee,{onChartClick:()=>Z(ge),onStatusClick:()=>{N(r=>(!r&&$&&fetch($).then(xe).then(T).catch(()=>T([])),!r))}}),e[13]=w):w=e[13];let h;e[14]!==n||e[15]!==A?(h=A&&t.jsx("div",{className:V.chartWrapper,children:t.jsx(a.Suspense,{fallback:t.jsx("div",{style:{height:200},children:"Loading chart..."}),children:t.jsx(fe,{data:oe(n).map(Te)})})}),e[14]=n,e[15]=A,e[16]=h):h=e[16];const U=`${V.page} ${V[i]}`;let E,v;e[17]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx(ae,{}),v=t.jsx(se,{}),e[17]=E,e[18]=v):(E=e[17],v=e[18]);let D;e[19]===Symbol.for("react.memo_cache_sentinel")?(D=r=>O(r.target.value),e[19]=D):D=e[19];let _;e[20]!==p||e[21]!==W||e[22]!==H||e[23]!==u?(_=t.jsx(ne,{inputValue:u,onInputChange:D,onAddTask:p,onDeleteTask:W,onKeyDown:H}),e[20]=p,e[21]=W,e[22]=H,e[23]=u,e[24]=_):_=e[24];let g;e[25]!==_||e[26]!==U?(g=t.jsxs("main",{className:U,children:[E,v,_]}),e[25]=_,e[26]=U,e[27]=g):g=e[27];let x;e[28]!==m||e[29]!==M?(x=m&&t.jsx(re,{isOpen:!0,onClose:F,position:"top",children:t.jsx(a.Suspense,{fallback:t.jsx("div",{"data-testid":"status-loading",children:"Loading status..."}),children:t.jsx(he,{history:M??[],onClose:F})})}),e[28]=m,e[29]=M,e[30]=x):x=e[30];let I;return e[31]!==g||e[32]!==x||e[33]!==f||e[34]!==h?(I=t.jsxs(t.Fragment,{children:[f,w,h,g,x]}),e[31]=g,e[32]=x,e[33]=f,e[34]=h,e[35]=I):I=e[35],I};Y.__docgenInfo={description:"",methods:[],displayName:"PomodoroPage"};function _e(e){return e.json()}function ge(e){return!e}function xe(e){return e.json()}function Te(e){return{name:e.date.toLocaleDateString(void 0,{weekday:"short"}),Pomodoros:e.count}}const je=e=>{const o=G.c(2),{children:i}=e;let n;return o[0]!==i?(n=t.jsx(ie,{children:t.jsx(ye,{children:i})}),o[0]=i,o[1]=n):n=o[1],n},ye=({children:e})=>{const{setTasks:o,setMode:i}=X();return a.useEffect(()=>{o([{id:"1",title:"Design UI for Timer",completed:!1,pomodoros:2,completedPomodoros:1},{id:"2",title:"Review task manager UI",completed:!1,pomodoros:1,completedPomodoros:0}]),i("pomodoro")},[]),t.jsx(t.Fragment,{children:e})},Ge={title:"Pages/PomodoroPage",component:Y,decorators:[e=>t.jsx(je,{children:t.jsx(e,{})})],parameters:{docs:{description:{component:"`PomodoroPage` is the main page that brings together the Pomodoro timer and task management. It displays the timer and allows users to manage tasks and Pomodoros."}}}},z={args:{}};var K,q,B;z.parameters={...z.parameters,docs:{...(K=z.parameters)==null?void 0:K.docs,source:{originalSource:`{
  args: {}
}`,...(B=(q=z.parameters)==null?void 0:q.docs)==null?void 0:B.source}}};const Je=["Default"];export{z as Default,Je as __namedExportsOrder,Ge as default};
