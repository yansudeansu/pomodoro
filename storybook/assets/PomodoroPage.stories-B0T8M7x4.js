const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WeeklyChart-BCDzP82V.js","assets/jsx-runtime-D_zvdyIk.js","assets/compiler-runtime-CJbQ6yvW.js","assets/index-c0qeY2gs.js","assets/index-BE4Fbmwm.js","assets/tiny-invariant-CopsF_GD.js","assets/WeeklyChart-Cdf2_6vV.css","assets/StatusHistory-myBCphip.js","assets/StatusDot-d4rJNefB.js","assets/StatusDot-BPAhn3jP.css","assets/StatusBar-B0QcbmpW.js","assets/StatusBarItem-a5k1OS0G.js","assets/StatusBarItem-H9vImy5z.css","assets/StatusBar-Bn2lwHCO.css","assets/Text-C1JEmKLm.js","assets/Text-Bw2nCDdP.css","assets/IconButton-GNUMeWqu.js","assets/Icons-DkmbEqGT.js","assets/IconButton-DjH8hC3y.css","assets/StatusHistory-B7NG-i1O.css"])))=>i.map(i=>d[i]);
import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{c as Q}from"./compiler-runtime-CJbQ6yvW.js";import{r as a,R as X}from"./index-BE4Fbmwm.js";import{_ as Y}from"./iframe-YPShdD2N.js";import{H as oe}from"./Header-BmppFwFB.js";import{T as se}from"./Toast-BMLPYoQH.js";import{g as re,P as ae}from"./PomodorosToday-CMuSTo8o.js";import{M as ne}from"./Modal-m-eMx2ej.js";import{P as le}from"./PomodoroTimer-CccH9zmU.js";import{T as ie}from"./TaskManager-Cgm1jVcf.js";import{u as Z,v as ce,P as me}from"./PomodoroContext-BZZk-DrD.js";import"./index-c0qeY2gs.js";import"./IconButton-GNUMeWqu.js";import"./Icons-DkmbEqGT.js";import"./Link-C7MJCkVG.js";import"./Button-DDqaEZzK.js";import"./Text-C1JEmKLm.js";import"./ModeSwitcher-nd9cisJJ.js";import"./TimerControls-Ddth1Qpw.js";import"./TimerDisplay-vjCVDni9.js";import"./ProgressRing-DOSM5Dml.js";import"./InfoTooltip-BKuPgeHb.js";import"./TaskInput-D2_WXmsK.js";import"./Input-D5j9VKnD.js";import"./TaskList-eO5rCLM1.js";import"./Checkbox-ANUpOvAS.js";const de="_page_1llzj_1",ue="_pomodoro_1llzj_12",pe="_short_break_1llzj_16",fe="_long_break_1llzj_20",he="_chartWrapper_1llzj_32",O={page:de,pomodoro:ue,short_break:pe,long_break:fe,chartWrapper:he},N="https://yansudeansu.github.io/status-pages/status/status-pomodoro.json",_e=X.lazy(()=>Y(()=>import("./WeeklyChart-BCDzP82V.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),ge=X.lazy(()=>Y(()=>import("./StatusHistory-myBCphip.js"),__vite__mapDeps([7,1,2,3,8,9,10,11,12,13,14,15,16,17,4,18,19]))),ee=()=>{const e=Q.c(40),{setTasks:o,mode:i,globalPomodoros:n}=Z(),[u,F]=a.useState(""),[k,c]=a.useState(null),s=a.useRef(null),W=a.useRef(-1),[p,te]=a.useState(!1),[m,K]=a.useState(!1),[H,y]=a.useState(null);let S,b;e[0]!==m?(S=()=>{m?fetch(N).then(xe).then(y).catch(()=>y([])):y(null)},b=[m],e[0]=m,e[1]=S,e[2]=b):(S=e[1],b=e[2]),a.useEffect(S,b);let C;e[3]!==u||e[4]!==o?(C=()=>{const r=u.trim();if(!r)return;const d={id:ce(),title:r,completed:!1,pomodoros:1,completedPomodoros:0};o(P=>{const l=[...P,d];return l.length>16&&(s.current&&clearTimeout(s.current),c({message:"That’s a lot! A full focus day usually includes 10–16 Pomodoros. Are you sure you want this many?",onClose:()=>{s.current&&clearTimeout(s.current),c(null)}}),s.current=setTimeout(()=>{c(null),s.current=null},5e3)),l}),F("")},e[3]=u,e[4]=o,e[5]=C):C=e[5];const f=C;let R;e[6]!==o?(R=r=>{o(d=>{const P=d.findIndex(l=>l.id===r.id);return W.current=P,d.filter(l=>l.id!==r.id)}),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{c(null),s.current=null},5e3),c({message:`Task "${r.title}" deleted`,actionLabel:"Undo",onAction:()=>{s.current&&clearTimeout(s.current),o(d=>{const P=d.slice(0,W.current),l=d.slice(W.current);return[...P,r,...l]}),c(null)},onClose:()=>{s.current&&clearTimeout(s.current),c(null)}})},e[6]=o,e[7]=R):R=e[7];const U=R;let v;e[8]!==f?(v=r=>{r.key==="Enter"&&f()},e[8]=f,e[9]=v):v=e[9];const V=v;let w;e[10]===Symbol.for("react.memo_cache_sentinel")?(w=()=>K(!1),e[10]=w):w=e[10];const q=w;let h;e[11]!==k?(h=k&&t.jsx(se,{...k}),e[11]=k,e[12]=h):h=e[12];let E,D;e[13]===Symbol.for("react.memo_cache_sentinel")?(E=()=>te(Te),D=()=>{K(r=>(!r&&N&&fetch(N).then(je).then(y).catch(()=>y([])),!r))},e[13]=E,e[14]=D):(E=e[13],D=e[14]);let _;e[15]!==p?(_=t.jsx(oe,{onChartClick:E,onStatusClick:D,isChartActive:p}),e[15]=p,e[16]=_):_=e[16];let g;e[17]!==n||e[18]!==p?(g=p&&t.jsx("div",{className:O.chartWrapper,children:t.jsx(a.Suspense,{fallback:t.jsx("div",{style:{height:200},children:"Loading chart..."}),children:t.jsx(_e,{data:re(n).map(ye)})})}),e[17]=n,e[18]=p,e[19]=g):g=e[19];const $=`${O.page} ${O[i]}`;let I,z;e[20]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(le,{}),z=t.jsx(ae,{}),e[20]=I,e[21]=z):(I=e[20],z=e[21]);let A;e[22]===Symbol.for("react.memo_cache_sentinel")?(A=r=>F(r.target.value),e[22]=A):A=e[22];let x;e[23]!==f||e[24]!==U||e[25]!==V||e[26]!==u?(x=t.jsx(ie,{inputValue:u,onInputChange:A,onAddTask:f,onDeleteTask:U,onKeyDown:V}),e[23]=f,e[24]=U,e[25]=V,e[26]=u,e[27]=x):x=e[27];let T;e[28]!==$||e[29]!==x?(T=t.jsxs("main",{className:$,children:[I,z,x]}),e[28]=$,e[29]=x,e[30]=T):T=e[30];let j;e[31]!==m||e[32]!==H?(j=m&&t.jsx(ne,{isOpen:!0,onClose:q,position:"top",children:t.jsx(a.Suspense,{fallback:t.jsx("div",{"data-testid":"status-loading",children:"Loading status..."}),children:t.jsx(ge,{history:H??[],onClose:q})})}),e[31]=m,e[32]=H,e[33]=j):j=e[33];let L;return e[34]!==g||e[35]!==T||e[36]!==j||e[37]!==h||e[38]!==_?(L=t.jsxs(t.Fragment,{children:[h,_,g,T,j]}),e[34]=g,e[35]=T,e[36]=j,e[37]=h,e[38]=_,e[39]=L):L=e[39],L};ee.__docgenInfo={description:"",methods:[],displayName:"PomodoroPage"};function xe(e){return e.json()}function Te(e){return!e}function je(e){return e.json()}function ye(e){return{name:e.date.toLocaleDateString(void 0,{weekday:"short"}),Pomodoros:e.count}}const Pe=e=>{const o=Q.c(2),{children:i}=e;let n;return o[0]!==i?(n=t.jsx(me,{children:t.jsx(ke,{children:i})}),o[0]=i,o[1]=n):n=o[1],n},ke=({children:e})=>{const{setTasks:o,setMode:i}=Z();return a.useEffect(()=>{o([{id:"1",title:"Design UI for Timer",completed:!1,pomodoros:2,completedPomodoros:1},{id:"2",title:"Review task manager UI",completed:!1,pomodoros:1,completedPomodoros:0}]),i("pomodoro")},[]),t.jsx(t.Fragment,{children:e})},Qe={title:"Pages/PomodoroPage",component:ee,decorators:[e=>t.jsx(Pe,{children:t.jsx(e,{})})],parameters:{docs:{description:{component:"`PomodoroPage` is the main page that brings together the Pomodoro timer and task management. It displays the timer and allows users to manage tasks and Pomodoros."}}}},M={args:{}};var B,G,J;M.parameters={...M.parameters,docs:{...(B=M.parameters)==null?void 0:B.docs,source:{originalSource:`{
  args: {}
}`,...(J=(G=M.parameters)==null?void 0:G.docs)==null?void 0:J.source}}};const Xe=["Default"];export{M as Default,Xe as __namedExportsOrder,Qe as default};
