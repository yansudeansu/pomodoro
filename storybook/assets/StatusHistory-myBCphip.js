import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{c as N}from"./compiler-runtime-CJbQ6yvW.js";import{S as w}from"./StatusDot-d4rJNefB.js";import{S as y}from"./StatusBar-B0QcbmpW.js";import{T as v}from"./Text-C1JEmKLm.js";import{I as R}from"./IconButton-GNUMeWqu.js";import"./index-c0qeY2gs.js";import"./StatusBarItem-a5k1OS0G.js";import"./Icons-DkmbEqGT.js";import"./index-BE4Fbmwm.js";const b="_header_1m3um_12",C="_statusHeader_1m3um_19",k="_statusRow_1m3um_25",I="_uptime_1m3um_31",T="_timestamp_1m3um_36",B="_modalHeader_1m3um_42",a={header:b,statusHeader:C,statusRow:k,uptime:I,timestamp:T,modalHeader:B},D=x=>{const t=N.c(28),{history:e,onClose:g}=x;if(!e||e.length===0)return null;const j=e[0];let p;t[0]!==e?(p=e.filter(E),t[0]=e,t[1]=p):p=t[1];const d=p.length;let h;t[2]!==e.length||t[3]!==d?(h=Math.round(d/e.length*100),t[2]=e.length,t[3]=d,t[4]=h):h=t[4];const H=h,S=d===e.length?"up":d===0?"down":"unknown";let f;t[5]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(v,{variant:"heading",className:a.statusHeader,children:"Pomodoro App Status"}),t[5]=f):f=t[5];let o;t[6]!==g?(o=s.jsxs("div",{className:a.modalHeader,children:[f,s.jsx(R,{icon:"close",onClick:g,label:"Close status modal",size:"big"})]}),t[6]=g,t[7]=o):o=t[7];let i;t[8]!==S?(i=s.jsx(w,{status:S}),t[8]=S,t[9]=i):i=t[9];let l;t[10]!==H?(l=s.jsxs(v,{variant:"label",className:a.uptime,children:[H,"% uptime (last hour)"]}),t[10]=H,t[11]=l):l=t[11];let m;t[12]!==i||t[13]!==l?(m=s.jsxs("div",{className:a.statusRow,children:[i,l]}),t[12]=i,t[13]=l,t[14]=m):m=t[14];let r;t[15]!==o||t[16]!==m?(r=s.jsxs("div",{className:a.header,children:[o,m]}),t[15]=o,t[16]=m,t[17]=r):r=t[17];let n;t[18]!==e?(n=s.jsx(y,{history:e}),t[18]=e,t[19]=n):n=t[19];let u;t[20]!==j.timestamp?(u=new Date(j.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),t[20]=j.timestamp,t[21]=u):u=t[21];let c;t[22]!==u?(c=s.jsxs(v,{variant:"body",className:a.timestamp,children:["Last checked:"," ",u]}),t[22]=u,t[23]=c):c=t[23];let _;return t[24]!==c||t[25]!==r||t[26]!==n?(_=s.jsxs("div",{className:a.modalContent,children:[r,n,c]}),t[24]=c,t[25]=r,t[26]=n,t[27]=_):_=t[27],_};D.__docgenInfo={description:"",methods:[],displayName:"StatusHistory"};function E(x){return x.status==="up"}export{D as default};
